---
source: optimizer/src/spec_parity_tests.rs
expression: output
---
==INPUT==

import { component$, useStore, useSignal } from '@qwik.dev/core';
const Parent = component$(() => {
const cart = useStore<Cart>([]);
const results = useSignal(['foo', 'bar']);

return (
  <div>
    <button id="first" onClick$={() => (results.value = ['item1', 'item2'])}></button>

    {results.value.map((item, key) => (
      <button
        id={'second-' + key}
        onClick$={() => {
          cart.push(item);
        }}
      >
        {item}
      </button>
    ))}
    <ul>
      {cart.map((item) => (
        <li>
          <span>{item}</span>
        </li>
      ))}
    </ul>
  </div>
);
});

============================= should_extract_single_qrl_2.tsx ==

import { componentQrl, qrl } from "@qwik.dev/core";
const i_Parent_component_div_button_onClick = () => import("./should_extract_single_qrl_2.tsx.js");
const i_Parent_component_div_map_button_onClick_sAbiN5OoGe4 = () => import("./should_extract_single_qrl_2.tsx_Parent_component_div_map_button_onClick_sAbiN5OoGe4.js");
const i_Parent_component_aSM0bQEMPbU = () => import("./should_extract_single_qrl_2.tsx_Parent_component_aSM0bQEMPbU.js");
componentQrl(qrl(i_Parent_component_aSM0bQEMPbU, "Parent_component_aSM0bQEMPbU"));


None
============================= ./should_extract_single_qrl_2.tsx_Parent_component_aSM0bQEMPbU.js (ENTRY POINT)==

import { _jsxSorted, qrl, useSignal, useStore } from "@qwik.dev/core";
export const Parent_component_aSM0bQEMPbU = () => {
	const cart = useStore([]);
	const results = useSignal(["foo", "bar"]);
	return /*#__PURE__*/ _jsxSorted("div", null, null, [
		/*#__PURE__*/ _jsxSorted("button", { on:click: qrl(i_Parent_component_div_button_onClick, "Parent_component_div_button_onClick", [results]) }, { id: "first" }, null, 3, null),
		results.value.map((item, key) => /*#__PURE__*/ _jsxSorted("button", {
			id: "second-" + key,
			on:click: qrl(i_Parent_component_div_map_button_onClick_sAbiN5OoGe4, "Parent_component_div_map_button_onClick_sAbiN5OoGe4", [cart])
		}, null, item, 1, null)),
		/*#__PURE__*/ _jsxSorted("ul", null, null, cart.map((item) => /*#__PURE__*/ _jsxSorted("li", null, null, /*#__PURE__*/ _jsxSorted("span", null, null, item, 1, null), 3, null)), 1, null)
	], 1, null);
};


None
/*
{
  "origin": "should_extract_single_qrl_2.tsx",
  "name": "Parent_component_aSM0bQEMPbU",
  "entry": null,
  "displayName": "should_extract_single_qrl_2.tsx_Parent_component",
  "hash": "aSM0bQEMPbU",
  "canonicalFilename": "should_extract_single_qrl_2.tsx_Parent_component_aSM0bQEMPbU",
  "path": ".",
  "extension": "js",
  "parent": null,
  "ctxKind": "function",
  "ctxName": "Parent_component_aSM0bQEMPbU",
  "captures": false,
  "loc": [
    0,
    0
  ]
}
*/
============================= ./should_extract_single_qrl_2.tsx_Parent_component_div_map_button_onClick_sAbiN5OoGe4.js (ENTRY POINT)==

import { useLexicalScope } from "@qwik.dev/core";
export const Parent_component_div_map_button_onClick_sAbiN5OoGe4 = (_, _1, item) => {
	const [cart] = useLexicalScope();
	cart.push(item);
};


None
/*
{
  "origin": "should_extract_single_qrl_2.tsx",
  "name": "Parent_component_div_map_button_onClick_sAbiN5OoGe4",
  "entry": null,
  "displayName": "should_extract_single_qrl_2.tsx_Parent_component_div_map_button_onClick",
  "hash": "sAbiN5OoGe4",
  "canonicalFilename": "should_extract_single_qrl_2.tsx_Parent_component_div_map_button_onClick_sAbiN5OoGe4",
  "path": ".",
  "extension": "js",
  "parent": null,
  "ctxKind": "function",
  "ctxName": "Parent_component_div_map_button_onClick_sAbiN5OoGe4",
  "captures": false,
  "loc": [
    0,
    0
  ]
}
*/
== DIAGNOSTICS ==

[]
