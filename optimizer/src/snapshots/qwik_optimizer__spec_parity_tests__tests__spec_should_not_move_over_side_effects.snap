---
source: optimizer/src/spec_parity_tests.rs
expression: output
---
==INPUT==

export const \$promoteToRoot$ = (ref: SeenRef) => {
	const path = \$getObjectPath$(ref) as string;
	// should stay before the push
	const idx = roots.length;
	roots.push(new BackRef(path));
	ref.\$parent$ = null;
	ref.\$index$ = idx;
	return idx;
};

============================= test.js ==

import { getObjectPathQrl, qrl } from "@qwik.dev/core";
const i_hN5kOkVHRNA = ()=>import("./test.tsx_test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA");
export const promoteToRoot$ = (ref)=>{
	const path = /*#__PURE__*/ getObjectPathQrl(/*#__PURE__*/ qrl(i_hN5kOkVHRNA, "test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA", [ref]));
	// should stay before the push
	const idx = roots.length;
	roots.push(new BackRef(path));
	ref.parent$ = null;
	ref.index$ = idx;
	return idx;
};


None
============================= test.tsx_test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA.js (ENTRY POINT)==

export const test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA = ref;


None
/*
{
  "origin": "test.tsx",
  "name": "test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA",
  "entry": null,
  "displayName": "test_promoteToRoot_path_getObjectPath",
  "hash": "hN5kOkVHRNA",
  "canonicalFilename": "test.tsx_test_promoteToRoot_path_getObjectPath_hN5kOkVHRNA",
  "path": "",
  "extension": "js",
  "parent": "promoteToRoot",
  "ctxKind": "function",
  "ctxName": "getObjectPath$",
  "captures": true,
  "loc": [
    83,
    86
  ]
}
*/
== DIAGNOSTICS ==

[]
