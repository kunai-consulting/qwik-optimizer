---
phase: 01-oxc-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified: []
autonomous: true

must_haves:
  truths:
    - "All 31 existing tests pass unchanged"
    - "Snapshot test output matches pre-upgrade baselines"
    - "No test regressions from version upgrade"
  artifacts:
    - path: "optimizer/src/snapshots/"
      provides: "Snapshot test baselines"
      min_lines: 1
  key_links:
    - from: "cargo test"
      to: "31 test cases"
      via: "test harness"
      pattern: "31 passed"
---

<objective>
Verify all 31 existing tests pass after OXC upgrade and ensure no behavioral regressions.

Purpose: Confirm the upgrade preserved existing functionality. Tests are the safety net proving the codebase works identically on 0.111.0 as it did on 0.94.0.

Output: Passing test suite confirming upgrade success.
</objective>

<execution_context>
@/Users/jackshelton/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jackshelton/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-oxc-foundation/01-RESEARCH.md
@.planning/phases/01-oxc-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run full test suite</name>
  <files>None (verification only)</files>
  <action>
Execute the complete test suite and verify all tests pass:

1. Run `cargo test` and capture full output
2. Verify "31 passed; 0 failed" in output
3. Compare against baseline (31 tests passed before upgrade)

If any tests fail:
- Identify which test(s) failed
- Check if failure is due to API behavior change vs actual regression
- For snapshot mismatches: review diff to understand change
- Fix issues if they're genuine regressions
  </action>
  <verify>
`cargo test` output shows "31 passed; 0 failed"
  </verify>
  <done>
All 31 tests pass with OXC 0.111.0.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify snapshot tests unchanged</name>
  <files>optimizer/src/snapshots/</files>
  <action>
Confirm snapshot tests produce identical output:

1. Check git status for any modified snapshot files
2. If snapshots changed, run `cargo insta review` to see diffs
3. Only accept snapshot changes if they're improvements (e.g., better formatting)
4. Reject any behavioral changes - these indicate regressions

Expected: No snapshot changes. The OXC upgrade should not change transformation output.

If snapshots DID change:
- Document exactly what changed
- Determine if change is acceptable (cosmetic) or regression (behavioral)
- Revert if behavioral regression, investigate root cause
  </action>
  <verify>
`git diff optimizer/src/snapshots/` shows no changes (empty diff).
  </verify>
  <done>
Snapshot test output is identical to pre-upgrade baseline.
  </done>
</task>

<task type="auto">
  <name>Task 3: Document upgrade completion</name>
  <files>None</files>
  <action>
Create a brief upgrade validation report:

1. Record final test results (31 passed, 0 failed)
2. Record build warnings count (baseline was 14)
3. Note any new warnings introduced by upgrade
4. Confirm all requirements met: OXC-01 through OXC-08

Summary format for SUMMARY.md:
- OXC version: 0.94.0 -> 0.111.0
- Tests: 31/31 passing
- Warnings: X (baseline was 14)
- Breaking changes encountered: [list or "none"]
- Requirements completed: OXC-01, OXC-02, OXC-03, OXC-04, OXC-05, OXC-06, OXC-07, OXC-08
  </action>
  <verify>
Upgrade validation documented with test counts and warning counts.
  </verify>
  <done>
Phase 1 requirements OXC-01 through OXC-08 completed and documented.
  </done>
</task>

</tasks>

<verification>
1. `cargo test` shows "31 passed; 0 failed"
2. `git diff optimizer/src/snapshots/` is empty
3. `cargo build` exits 0 with acceptable warning count
</verification>

<success_criteria>
- All 31 tests pass
- No snapshot changes (transformation output identical)
- Phase 1 requirements (OXC-01 through OXC-08) complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-oxc-foundation/01-02-SUMMARY.md`
</output>
