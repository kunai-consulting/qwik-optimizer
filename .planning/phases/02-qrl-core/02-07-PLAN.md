---
phase: 02-qrl-core
plan: 07
type: execute
wave: 1
depends_on: ["02-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Hash generation produces identical output for identical input across multiple runs"
    - "Hash output matches SWC reference implementation for equivalent code"
  artifacts: []
  key_links: []
---

<objective>
Verify QRL hash generation stability and SWC parity through manual testing.

Purpose: Confirm QRL-09 requirement (hash generation stable and unique) is satisfied, completing Phase 2 verification.
Output: Human verification that hashes are stable and match SWC reference.
</objective>

<execution_context>
@/Users/jackshelton/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jackshelton/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-qrl-core/02-VERIFICATION.md
</context>

<gap_context>
**From VERIFICATION.md:**

Gap 2: Hash Verification (NEEDS HUMAN)
- Status: UNCERTAIN
- Reason: Cannot verify without running tests or comparing to SWC reference snapshots
- Action: Needs human verification - run tests and compare hashes to SWC
</gap_context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>QRL hash generation implementation in transform.rs</what-built>
  <how-to-verify>
**Step 1: Verify hash stability (same input = same output)**

Run the hash stability test multiple times:
```bash
cargo test -p optimizer test_qrl_hash_stability -- --nocapture
cargo test -p optimizer test_qrl_hash_stability -- --nocapture
cargo test -p optimizer test_qrl_hash_stability -- --nocapture
```

Expected: Hash values in output should be identical across all runs.

**Step 2: Verify hash uniqueness (different QRLs = different hashes)**

Run the multiple QRLs test:
```bash
cargo test -p optimizer test_qrl_multiple_qrls -- --nocapture
```

Expected: Each QRL in the output should have a unique hash value.

**Step 3: Compare to SWC reference (if available)**

If SWC reference snapshots exist in the qwik-core repository:
1. Clone/checkout qwik-core repo
2. Find equivalent test case snapshots
3. Compare hash values between OXC and SWC implementations

Note: If SWC snapshots are not available or hashes differ by design (different hashing algorithms), document the findings but do not treat as failure - the key requirement is stability, not exact SWC match.

**Step 4: Report findings**

Document:
- Are hashes stable across runs? (REQUIRED)
- Are hashes unique per QRL? (REQUIRED)
- Do hashes match SWC? (NICE TO HAVE - may differ by design)
  </how-to-verify>
  <resume-signal>Type "verified" with findings summary, or describe any issues discovered</resume-signal>
</task>

</tasks>

<verification>
Human confirms:
1. Hash values are stable (identical across multiple test runs)
2. Hash values are unique (different QRLs produce different hashes)
3. (Optional) Hash values match SWC reference, or documented reason why they differ
</verification>

<success_criteria>
- Human confirms hash stability through repeated test runs
- Human confirms hash uniqueness through multiple QRLs test
- QRL-09 requirement is marked satisfied in verification report
- Phase 2 can be marked complete
</success_criteria>

<output>
After completion, create `.planning/phases/02-qrl-core/02-07-SUMMARY.md`
</output>
